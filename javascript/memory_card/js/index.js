var cards = ['card1','card2','card3','card4','card5','card6','card7','card8','card9','card10','card11','card12'];var current = null;var count = 0;var timeInterval = 0;var fulltime = 45;function shuffle(cards) {    var currentIndex = cards.length, temporaryValue, randomIndex;    // While there remain elements to shuffle...    while (0 !== currentIndex) {        // Pick a remaining element...        randomIndex = Math.floor(Math.random() * currentIndex);        currentIndex -= 1;        // And swap it with the current element.        temporaryValue = cards[currentIndex];        cards[currentIndex] = cards[randomIndex];        cards[randomIndex] = temporaryValue;  }  return cards;}function slideCard(card) {	$(card).children().toggleClass('flipped');	if(!current) {		current = $(card);		$(card).css('pointer-events', 'none');				$('#card-effect').attr('src','audio/Card-flip-sound-effect.mp3');		document.getElementById('card-effect').play();			} else {		if (current.attr('data-name') != $(card).attr('data-name')) {			setTimeout(function() {				document.getElementById('bg-music').play();				  	$(card).children().toggleClass('flipped');				current.children().toggleClass('flipped');				$(card).css('pointer-events', 'auto');				current.css('pointer-events', 'auto');					current = null;			}, 500)			} else {			setTimeout(function() {				$('#card-effect').attr('src','audio/rm-card.mp4');				document.getElementById('card-effect').play();				  	$(card).css('opacity','0');				current.css('opacity','0');				current = null;				count++;				if (count == 12) {					$('#bg-music').attr('src','audio/win-music.mp4');					document.getElementById('bg-music').play();						$('.win').show();					clearInterval(timeInterval);				}			}, 200)			}	}}function settingGame() {	// X2 array để tạo ra những cặp bài	cards = cards.concat(cards);	// Đảo vị trí các quân bài	cards = shuffle(cards);	//Chèn các quân bài vào vị trí	let html = '';	for (let i = 0; i < cards.length; i++) {		html += '<div class="grid">'+					'<div class="border-0 card-item" data-name="+'+cards[i]+'">'+						'<div class="front">'+							'<img src = "img/'+cards[i]+'.jpg"/>'+						'</div>'+						'<div class="back">'+							'<img src="img/back.jpg"/>'+						'</div>'+					'</div>'+				'</div>';	}	$('#wrap').html(html);	$('.card-item').attr('onclick','slideCard(this)');}function replay() {	$('.win').hide();	$('.loss').hide();	$('#bg-music').attr('src','audio/bg-music.mp4');	document.getElementById('bg-music').play();		cards = ['card1','card2','card3','card4','card5','card6','card7','card8','card9','card10','card11','card12'];	current = null;	count = 0;	timeInterval = 0;	fulltime = 45;	$('#progress-bar').show();	startGame();}	function startGame() {	$('.begin').hide();	$('#bg-music').attr('src','audio/bg-music.mp4');	document.getElementById('bg-music').play();		settingGame();	timeInterval = setInterval(function() {		$('#progress-bar').attr('value',fulltime);		if (fulltime == 0) {			clearInterval(timeInterval);			$('#bg-music').attr('src','audio/loss-music.mp4');			document.getElementById('bg-music').play();				$('.loss').show();			$('#wrap').html('');			$('#progress-bar').hide();		}		fulltime--;	}, 1000)}$(function(){	$('.begin').show();})